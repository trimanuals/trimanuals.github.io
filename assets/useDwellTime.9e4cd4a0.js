import{aU as l,a as d,ae as m,aR as u,aV as w}from"./index.6def9867.js";function D(n){const o=l(),{trackedSession:a}=d(o);let e=0;const{isPublic:s}=n,t=async()=>{const i=(new Date().getTime()-e)/1e3,r=s?"/tracking/publicDwell":"/tracking/dwell";try{await w.post(r,{_id:a.value,dwellTime:i})}catch(c){console.error("Error in API request:",c)}};m(()=>{e=new Date().getTime(),window.addEventListener("beforeunload",t)}),u(async()=>{await t()})}export{D as u};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlRHdlbGxUaW1lLjllNGNkNGEwLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9zYWJsZXMvdXNlRHdlbGxUaW1lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHVzZUR3ZWxsVGltZS5qc1xuaW1wb3J0IHsgc3RvcmVUb1JlZnMgfSBmcm9tICdwaW5pYSc7XG5pbXBvcnQgeyByb2N1bWVudHNBcGkgfSBmcm9tICdzcmMvYm9vdC9heGlvcyc7XG5pbXBvcnQgeyB1c2VEb2N1bWVudFZpZXdlclN0b3JlIH0gZnJvbSAnc3JjL3N0b3Jlcy9kb2N1bWVudC12aWV3ZXInO1xuaW1wb3J0IHsgb25Nb3VudGVkLCBvblVubW91bnRlZCB9IGZyb20gJ3Z1ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUR3ZWxsVGltZShvcHRpb25zOiB7IGlzUHVibGljOiBib29sZWFuIH0pIHtcbiAgY29uc3QgZG9jdW1lbnRWaWV3ZXJTdG9yZSA9IHVzZURvY3VtZW50Vmlld2VyU3RvcmUoKTtcbiAgY29uc3QgeyB0cmFja2VkU2Vzc2lvbiB9ID0gc3RvcmVUb1JlZnMoZG9jdW1lbnRWaWV3ZXJTdG9yZSk7XG5cbiAgbGV0IHN0YXJ0VGltZSA9IDA7XG5cbiAgY29uc3QgeyBpc1B1YmxpYyB9ID0gb3B0aW9ucztcblxuICBjb25zdCByZWNvcmREd2VsbFRpbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IGR3ZWxsVGltZSA9IChlbmRUaW1lIC0gc3RhcnRUaW1lKSAvIDEwMDA7IC8vIENvbnZlcnQgbWlsbGlzZWNvbmRzIHRvIHNlY29uZHNcblxuICAgIC8vIERldGVybWluZSB0aGUgYXBwcm9wcmlhdGUgQVBJIGVuZHBvaW50XG4gICAgY29uc3QgYXBpRW5kcG9pbnQgPSBpc1B1YmxpYyA/ICcvdHJhY2tpbmcvcHVibGljRHdlbGwnIDogJy90cmFja2luZy9kd2VsbCc7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgcm9jdW1lbnRzQXBpLnBvc3QoYXBpRW5kcG9pbnQsIHtcbiAgICAgICAgX2lkOiB0cmFja2VkU2Vzc2lvbi52YWx1ZSxcbiAgICAgICAgZHdlbGxUaW1lOiBkd2VsbFRpbWUsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIEFQSSByZXF1ZXN0OicsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHJlY29yZER3ZWxsVGltZSk7XG4gIH0pO1xuXG4gIG9uVW5tb3VudGVkKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCByZWNvcmREd2VsbFRpbWUoKTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsidXNlRHdlbGxUaW1lIiwib3B0aW9ucyIsImRvY3VtZW50Vmlld2VyU3RvcmUiLCJ1c2VEb2N1bWVudFZpZXdlclN0b3JlIiwidHJhY2tlZFNlc3Npb24iLCJzdG9yZVRvUmVmcyIsInN0YXJ0VGltZSIsImlzUHVibGljIiwicmVjb3JkRHdlbGxUaW1lIiwiZHdlbGxUaW1lIiwiYXBpRW5kcG9pbnQiLCJyb2N1bWVudHNBcGkiLCJlcnIiLCJvbk1vdW50ZWQiLCJvblVubW91bnRlZCJdLCJtYXBwaW5ncyI6IndFQU1BLFNBQXdCQSxFQUFhQyxFQUFnQyxDQUNuRSxNQUFNQyxFQUFzQkMsSUFDdEIsQ0FBRSxlQUFBQyxDQUFBLEVBQW1CQyxFQUFZSCxDQUFtQixFQUUxRCxJQUFJSSxFQUFZLEVBRVYsS0FBQSxDQUFFLFNBQUFDLENBQWEsRUFBQU4sRUFFZk8sRUFBa0IsU0FBWSxDQUU1QixNQUFBQyxHQURVLElBQUksS0FBSyxFQUFFLFFBQVEsRUFDTkgsR0FBYSxJQUdwQ0ksRUFBY0gsRUFBVyx3QkFBMEIsa0JBRXJELEdBQUEsQ0FDSSxNQUFBSSxFQUFhLEtBQUtELEVBQWEsQ0FDbkMsSUFBS04sRUFBZSxNQUNwQixVQUFBSyxDQUFBLENBQ0QsUUFDTUcsR0FDQyxRQUFBLE1BQU0sd0JBQXlCQSxDQUFHLENBQzVDLENBQUEsRUFHRkMsRUFBVSxJQUFNLENBQ0ZQLEVBQUEsSUFBSSxPQUFPLFVBQ2hCLE9BQUEsaUJBQWlCLGVBQWdCRSxDQUFlLENBQUEsQ0FDeEQsRUFFRE0sRUFBWSxTQUFZLENBQ3RCLE1BQU1OLEVBQWdCLENBQUEsQ0FDdkIsQ0FDSCJ9
