import{b as r}from"./index.6def9867.js";class _{constructor(){this.__stack={}}on(t,s,i){return(this.__stack[t]||(this.__stack[t]=[])).push({fn:s,ctx:i}),this}once(t,s,i){const e=(...o)=>{this.off(t,e),s.apply(i,o)};return e.__callback=s,this.on(t,e,i)}emit(t){const s=this.__stack[t];if(s!==void 0){const i=[].slice.call(arguments,1);s.forEach(e=>{e.fn.apply(e.ctx,i)})}return this}off(t,s){const i=this.__stack[t];if(i===void 0)return this;if(s===void 0)return delete this.__stack[t],this;const e=i.filter(o=>o.fn!==s&&o.fn.__callback!==s);return e.length!==0?this.__stack[t]=e:delete this.__stack[t],this}}var h=r(({app:n})=>{const t=new _;n.provide("event-bus",t)});export{h as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQtYnVzLjNhM2JkOGEyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9FdmVudEJ1cy9FdmVudEJ1cy5qcyIsIi4uLy4uLy4uL3NyYy9ib290L2V2ZW50LWJ1cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZvcmtlZCBmcm9tIHRpbnktZW1pdHRlclxuICogQ29weXJpZ2h0IChjKSAyMDE3IFNjb3R0IENvcmdhblxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50QnVzIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuX19zdGFjayA9IHt9XG4gIH1cblxuICBvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgICh0aGlzLl9fc3RhY2tbIG5hbWUgXSB8fCAodGhpcy5fX3N0YWNrWyBuYW1lIF0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4XG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzIC8vIGNoYWluYWJsZVxuICB9XG5cbiAgb25jZSAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIHRoaXMub2ZmKG5hbWUsIGxpc3RlbmVyKVxuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmdzKVxuICAgIH1cblxuICAgIGxpc3RlbmVyLl9fY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpIC8vIGNoYWluYWJsZVxuICB9XG5cbiAgZW1pdCAobmFtZSkge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9fc3RhY2tbIG5hbWUgXVxuXG4gICAgaWYgKGxpc3QgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgcGFyYW1zID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXG4gICAgICBsaXN0LmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBlbnRyeS5mbi5hcHBseShlbnRyeS5jdHgsIHBhcmFtcylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMgLy8gY2hhaW5hYmxlXG4gIH1cblxuICBvZmYgKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbGlzdCA9IHRoaXMuX19zdGFja1sgbmFtZSBdXG5cbiAgICBpZiAobGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdGhpcyAvLyBjaGFpbmFibGVcbiAgICB9XG5cbiAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlIHRoaXMuX19zdGFja1sgbmFtZSBdXG4gICAgICByZXR1cm4gdGhpcyAvLyBjaGFpbmFibGVcbiAgICB9XG5cbiAgICBjb25zdCBsaXZlRXZlbnRzID0gbGlzdC5maWx0ZXIoXG4gICAgICBlbnRyeSA9PiBlbnRyeS5mbiAhPT0gY2FsbGJhY2sgJiYgZW50cnkuZm4uX19jYWxsYmFjayAhPT0gY2FsbGJhY2tcbiAgICApXG5cbiAgICBpZiAobGl2ZUV2ZW50cy5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMuX19zdGFja1sgbmFtZSBdID0gbGl2ZUV2ZW50c1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9fc3RhY2tbIG5hbWUgXVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzIC8vIGNoYWluYWJsZVxuICB9XG59XG4iLCJpbXBvcnQgeyBib290IH0gZnJvbSAncXVhc2FyL3dyYXBwZXJzJztcbmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAncXVhc2FyJztcblxuZXhwb3J0IGRlZmF1bHQgYm9vdCgoeyBhcHAgfSkgPT4ge1xuICBjb25zdCBldmVudEJ1cyA9IG5ldyBFdmVudEJ1cygpO1xuICBhcHAucHJvdmlkZSgnZXZlbnQtYnVzJywgZXZlbnRCdXMpO1xufSk7XG4iXSwibmFtZXMiOlsiRXZlbnRCdXMiLCJuYW1lIiwiY2FsbGJhY2siLCJjdHgiLCJsaXN0ZW5lciIsImFyZ3MiLCJsaXN0IiwicGFyYW1zIiwiZW50cnkiLCJsaXZlRXZlbnRzIiwiZXZlbnRCdXMiLCJib290IiwiYXBwIl0sIm1hcHBpbmdzIjoid0NBS2UsTUFBTUEsQ0FBUyxDQUM1QixhQUFlLENBQ2IsS0FBSyxRQUFVLENBQUUsQ0FDbEIsQ0FFRCxHQUFJQyxFQUFNQyxFQUFVQyxFQUFLLENBQ3ZCLE9BQUMsS0FBSyxRQUFTRixLQUFXLEtBQUssUUFBU0EsR0FBUyxLQUFLLEtBQUssQ0FDekQsR0FBSUMsRUFDSixJQUFBQyxDQUNOLENBQUssRUFFTSxJQUNSLENBRUQsS0FBTUYsRUFBTUMsRUFBVUMsRUFBSyxDQUN6QixNQUFNQyxFQUFXLElBQUlDLElBQVMsQ0FDNUIsS0FBSyxJQUFJSixFQUFNRyxDQUFRLEVBQ3ZCRixFQUFTLE1BQU1DLEVBQUtFLENBQUksQ0FDekIsRUFFRCxPQUFBRCxFQUFTLFdBQWFGLEVBQ2YsS0FBSyxHQUFHRCxFQUFNRyxFQUFVRCxDQUFHLENBQ25DLENBRUQsS0FBTUYsRUFBTSxDQUNWLE1BQU1LLEVBQU8sS0FBSyxRQUFTTCxHQUUzQixHQUFJSyxJQUFTLE9BQVEsQ0FDbkIsTUFBTUMsRUFBUyxDQUFBLEVBQUcsTUFBTSxLQUFLLFVBQVcsQ0FBQyxFQUN6Q0QsRUFBSyxRQUFRRSxHQUFTLENBQ3BCQSxFQUFNLEdBQUcsTUFBTUEsRUFBTSxJQUFLRCxDQUFNLENBQ3hDLENBQU8sQ0FDRixDQUVELE9BQU8sSUFDUixDQUVELElBQUtOLEVBQU1DLEVBQVUsQ0FDbkIsTUFBTUksRUFBTyxLQUFLLFFBQVNMLEdBRTNCLEdBQUlLLElBQVMsT0FDWCxPQUFPLEtBR1QsR0FBSUosSUFBYSxPQUNmLGNBQU8sS0FBSyxRQUFTRCxHQUNkLEtBR1QsTUFBTVEsRUFBYUgsRUFBSyxPQUN0QkUsR0FBU0EsRUFBTSxLQUFPTixHQUFZTSxFQUFNLEdBQUcsYUFBZU4sQ0FDM0QsRUFFRCxPQUFJTyxFQUFXLFNBQVcsRUFDeEIsS0FBSyxRQUFTUixHQUFTUSxFQUd2QixPQUFPLEtBQUssUUFBU1IsR0FHaEIsSUFDUixDQUNILENDaEVBLElBQUFTLEVBQWVDLEVBQUssQ0FBQyxDQUFFLElBQUFDLEtBQVUsQ0FDekIsTUFBQUYsRUFBVyxJQUFJVixFQUNqQlksRUFBQSxRQUFRLFlBQWFGLENBQVEsQ0FDbkMsQ0FBQyJ9
